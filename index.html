<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Room Expense Tracker</title>
<style>
:root {
  --bg-start:#6dd5fa; --bg-end:#2980b9; --text:#222; --card-bg:#ffffffdd;
  --accent:#007bff; --highlight:#28a745; --remove:#e74c3c;
}
body.dark {
  --bg-start:#0f2027; --bg-end:#203a43; --text:#eee; --card-bg:#1f1f1fdd;
  --accent:#2196f3; --highlight:#4caf50; --remove:#e74c3c;
}
body {
  font-family:"Poppins",sans-serif; margin:0; padding:20px; color:var(--text);
  background:linear-gradient(270deg,var(--bg-start),var(--bg-end));
  background-size:400% 400%; animation:gradientShift 15s ease infinite;
  transition:all 0.5s ease;
}
@keyframes gradientShift {
  0% {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100% {background-position:0% 50%;}
}
.container { max-width:500px; margin:auto; background:var(--card-bg); border-radius:15px; padding:20px; box-shadow:0 8px 20px rgba(0,0,0,0.25);}
h2,h3{text-align:center;margin:5px 0;}
input,select,button{
  padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc;
  font-size:16px; width:100%; box-sizing:border-box; background:var(--card-bg); color:var(--text);
}
button{cursor:pointer; background-color:var(--highlight); color:#fff; border:none;}
button:hover{opacity:0.9;}
table{width:100%; border-collapse:separate; border-spacing:0 6px; margin:10px 0;}
th,td{padding:8px; text-align:center; border-radius:6px; font-size:14px;}
thead th{background-color:var(--accent); color:white; font-size:14px;}
tbody tr{background-color:var(--card-bg); box-shadow:0 2px 6px rgba(0,0,0,0.1);}
tfoot td{font-weight:bold; border-radius:6px;}
.remove-btn{background-color:var(--remove); color:white; border:none; padding:4px 8px; border-radius:5px; cursor:pointer;}
.remove-btn:hover{opacity:0.8;}
.action-bar{text-align:center; margin:10px 0;}
.action-bar button{margin:5px; width:48%;}
.modal{display:none; position:fixed; z-index:100; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center;}
.modal-content{background:var(--card-bg); padding:15px; border-radius:10px; width:95%; max-width:400px; color:var(--text); max-height:90%; overflow-y:auto; box-shadow:0 4px 15px rgba(0,0,0,0.3);}
.close-btn{float:right; background:var(--remove); border-radius:50%; padding:2px 8px; cursor:pointer;}
.member-item{display:flex; justify-content:space-between; margin:5px 0; padding:6px 8px; background:rgba(0,0,0,0.05); border-radius:5px;}
.member-item button{background:var(--remove); padding:2px 6px; border-radius:50%;}
#quickAddBtn {position:fixed;bottom:20px;right:20px;background:var(--highlight);color:#fff;
  border:none;width:60px;height:60px;border-radius:50%;font-size:30px;box-shadow:0 4px 10px rgba(0,0,0,0.3);z-index:10;}
.quick-modal .modal-content {max-width:350px;}
@media(max-width:400px){button,input,select{font-size:14px;padding:8px;}}
</style>
</head>
<body>
<div class="container">
<h2>üè† Room Expense Tracker</h2>
<input type="number" id="rent" placeholder="Total Room Rent (AED)">
<div style="text-align:center;margin:10px 0;">
<button onclick="openMemberEditor()">üë• Edit Members</button>
<button onclick="toggleDarkMode()">üåô Dark Mode</button>
</div>

<h3>üßæ Expenses</h3>
<table id="expenseTable">
<thead><tr><th>Person</th><th>Amount (AED)</th><th>Action</th></tr></thead>
<tbody></tbody>
</table>
<div class="action-bar">
<button onclick="addExpenseRow()">‚ûï Add Row</button>
<button onclick="calculateAndShow()">üí∞ Calculate</button>
<button onclick="resetValues()">üîÑ Clear Values</button>
</div>
</div>

<button id="quickAddBtn" onclick="openQuickAdd()">+</button>

<!-- Quick Add Modal -->
<div class="modal quick-modal" id="quickModal">
<div class="modal-content">
<button class="close-btn" onclick="closeQuickAdd()">√ó</button>
<h3>‚ûï Quick Add Expense</h3>
<select id="quickPerson"></select>
<input type="number" id="quickAmount" placeholder="Amount">
<button onclick="addQuickExpense()">Add</button>
</div>
</div>

<!-- Member Modal -->
<div class="modal" id="memberModal">
<div class="modal-content">
<button class="close-btn" onclick="closeMemberEditor()">√ó</button>
<h3>Edit Members</h3>
<div id="memberList"></div>
<input type="text" id="newMemberName" placeholder="Add new member">
<button onclick="addMember()">Add</button>
<button onclick="saveMemberChanges()">‚úÖ Done</button>
</div>
</div>

<!-- Summary Modal -->
<div class="modal" id="summaryModal">
<div class="modal-content">
<button class="close-btn" onclick="closeSummary()">√ó</button>
<h3>üìä Payment Summary</h3>
<div style="overflow-x:auto;">
<table id="summaryTable">
<thead><tr><th>Name</th><th>Paid</th><th>Expense</th><th>Rent</th><th>To Pay</th></tr></thead>
<tbody></tbody>
<tfoot></tfoot>
</table>
</div>
<div style="text-align:center;margin-top:10px;">
<button onclick="downloadPDF()">üìÑ PDF</button>
<button onclick="shareOnWhatsApp()">üí¨ WhatsApp</button>
</div>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<script>
let people=["RAMSHAD","ASHIR","ZAKKI","ASEEF","KUTTAPI"];

// All JS functions from previous code (same as provided)...
</script>
</body>
</html>